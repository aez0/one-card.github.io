<!DOCTYPE html>
<html>
  <head>
    <title>My Notes - OneCard</title>
    <link rel="stylesheet" href="https://one-card.github.io/assets/notes.css">
    <link href="https://one-card.github.io/favicon.ico" rel="icon" type="image/x-icon">
    <script src="https://apis.google.com/js/platform.js" async defer></script>
    <script src="https://www.gstatic.com/firebasejs/3.7.8/firebase.js"></script>
    <script src="https://www.gstatic.com/firebasejs/3.8.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/3.8.0/firebase-storage.js"></script>
    <meta name="google-signin-client_id" content="715078466665-pj5cpqhuicccp7pkkj7gg8oaqu2fehk6.apps.googleusercontent.com">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script>
      // Initialize Firebase
      var config = {
        apiKey: "AIzaSyCkyrIrVktUomIn2HDn7sRw7woLcITePuc",
        authDomain: "one-card-6eb00.firebaseapp.com",
        databaseURL: "https://one-card-6eb00.firebaseio.com",
        projectId: "one-card-6eb00",
        storageBucket: "one-card-6eb00.appspot.com",
        messagingSenderId: "601405421027"
      };
      firebase.initializeApp(config);
      var storage = firebase.storage();
      var storageRef = storage.ref();
      var notesRef = storageRef.child("notes");
      
      // Handle Google Signin
      function onSignIn(googleUser) {
        var profile = googleUser.getBasicProfile();
        console.log('ID: ' + profile.getId()); // Do not send to your backend! Use an ID token instead.
        console.log('Name: ' + profile.getName());
        console.log('Image URL: ' + profile.getImageUrl());
        console.log('Email: ' + profile.getEmail()); // This is null if the 'email' scope is not present.
        var id_token = googleUser.getAuthResponse().id_token;
        console.log("ID Token: " + id_token);
      }
      function signOut() {
        var auth2 = gapi.auth2.getAuthInstance();
        auth2.signOut().then(function () {
          console.log("signed out");
        });
      }
    </script>
  </head>
  <body>
    <div class="announcement" id="no-backend">
      <span style="float: right; cursor: pointer;" onclick="document.getElementById('no-backend').style.display = 'none';">&times;</span>Thanks for checking out OneCard! Unfortunately, we just started and backend hasn't been implemented yet, so your notes won't save.
    </div>
    <div class="navbar">
      <a href="https://one-card.github.io"><img src="https://one-card.github.io/assets/onecard.svg" /> OneCard</a>
      <a style="float: right;" href="https://one-card.github.io/account">My Account</a>
      <a style="float: right;" href="https://one-card.github.io/help">Help</a>
      <div style="display: none;" class="g-signin2" data-onsuccess="onSignIn" data-onfailure="onSigninFailure" data-theme="dark"></div>
    </div>
    <h1 style="text-align: center;">My Notes</h1>
    <center><button onclick="newElement()">Create a new note</button> <button onclick="resetNotes()">Clear all notes</button></center>
    <ul class="note-area">
      <li><span onClick='noteTools()'>☰</span><span onclick='this.parentElement.outerHTML = "";' class='close'>&times;</span><textarea autofocus placeholder='Enter note text here...'>Welcome to OneCard! Need help? Check out the Help Center by clicking 'Help' above. Happy note-taking!</textarea></li>
    </ul>
    <script>
      function newElement() {
        var li = document.createElement("li");
        li.innerHTML = "<span onClick='noteTools()'>☰</span><span onclick='this.parentElement.outerHTML = \"\";' class='close'>&times;</span><textarea placeholder='Enter note text here...'></textarea>";
        document.getElementsByClassName("note-area")[0].appendChild(li);
      }
      
      function resetNotes() {
        document.getElementsByClassName("note-area")[0].innerHTML = "";
      }
      
      function noteTools() {
        console.warn("Not implemented!")
      }
    </script>
  </body>
</html>
